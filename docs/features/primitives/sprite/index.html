<!DOCTYPE html>
<html lang="en">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>Sprite</title>
  
  
  <meta name="description" content="An FP game engine for Scala."/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="../../../img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="../../../helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../helium/site/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../../../css/custom.css" />
  <script src="../../../helium/site/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="image-link" href="../../../documentation/"><img src="../../../img/indigo_logo_solid_text.svg" alt="An FP game engine for Scala." title="Indigo" width="150" height="50"></a>

  <div class="row links">
    
    <a class="button-link" href="https://purplekingdomgames.github.io/indigo-docs/live_demos">Live Demos</a>
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/indigo">Github</a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="button-link" href="https://purplekingdomgames.github.io/indigo-docs/live_demos">Live Demos</a>
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/indigo">Github</a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 nav-node"><a href="../../../documentation/">Indigo</a></li>
    <li class="level2 nav-header">Indigo</li>
    <li class="level3 nav-leaf"><a href="../../../documentation/key-concepts/model-viewmodel-view.html">Model, ViewModel, &amp; View</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/key-concepts/time.html">Time</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/key-concepts/performance.html">Performance</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/key-concepts/making-games-testable.html">Making games testable</a></li>
    <li class="level2 nav-header">Shaders</li>
    <li class="level3 nav-leaf"><a href="../../../documentation/shaders/shaders.html">Shaders</a></li>
    <li class="level2 nav-header">Quick start</li>
    <li class="level3 nav-leaf"><a href="../../../documentation/quickstart/extensions-and-libs.html">Extensions, Libraries, and Related Projects</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/quickstart/quickstart.html">Quick start</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/quickstart/examples.html">Examples, Demos, and References</a></li>
    <li class="level2 nav-header">General information</li>
    <li class="level3 nav-leaf"><a href="../../../documentation/misc/prior-art.html">Prior Art</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/misc/motivation-and-constraints.html">Motivation &amp; Constraints</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/misc/rendering-technology.html">Rendering Technology</a></li>
    <li class="level3 nav-leaf"><a href="../../../documentation/misc/indigo-vs-elm.html">Indigo vs Elm</a></li>
    <li class="level1 nav-node"><a href="../../../demos/">Demos</a></li>
    <li class="level2 nav-leaf"><a href="../../../demos/snake/">Snake!</a></li>
    <li class="level2 nav-leaf"><a href="../../../demos/snake-in-5-minutes/">Snake In 5 Minutes</a></li>
    <li class="level2 nav-leaf"><a href="../../../demos/the-cursed-pirate/">The Cursed Pirate!</a></li>
    <li class="level1 nav-node"><a href="../../../guides/">Guides</a></li>
    <li class="level2 nav-node"><a href="../../../guides/actors/">Actors</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/actors/actors-with-physics/">How to use physics with actors</a></li>
    <li class="level2 nav-node"><a href="../../../guides/animation/">Animation</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/animation/part-1-basics/">Part 1: Animation Fundamentals</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/animation/part-2-signals/">Part 2: Using Signals</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/animation/part-3-timelines/">Part 3: Timeline Animations</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/animation/part-4-shaders/">Part 4: Shader Animations</a></li>
    <li class="level2 nav-node"><a href="../../../guides/assets/">Assets</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/assets/preloader/">Preloader / Loading Screens</a></li>
    <li class="level2 nav-node"><a href="../../../guides/importers/">Importers</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/importers/aseprite-embedded/">Aseprite Embedded</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/importers/tiled-loaded/">Loading Tiled maps at runtime</a></li>
    <li class="level2 nav-node"><a href="../../../guides/scenes/">Scenes</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/scenes/scene-management/">Managing scenes</a></li>
    <li class="level2 nav-node"><a href="../../../guides/ui/">Ui</a></li>
    <li class="level3 nav-leaf"><a href="../../../guides/ui/radiobuttons/">How to make radio buttons</a></li>
    <li class="level1 nav-node"><a href="../../">Features</a></li>
    <li class="level2 nav-node"><a href="../../actors-and-performers/">Actors and performers</a></li>
    <li class="level3 nav-leaf"><a href="../../actors-and-performers/actors/">Actors</a></li>
    <li class="level3 nav-leaf"><a href="../../actors-and-performers/performers/">Performers</a></li>
    <li class="level3 nav-leaf"><a href="../../actors-and-performers/performers-with-physics/">Performers &amp; Physics</a></li>
    <li class="level2 nav-leaf"><a href="../../context/">Context</a></li>
    <li class="level2 nav-node"><a href="../../materials/">Materials</a></li>
    <li class="level3 nav-leaf"><a href="../../materials/bitmap/">Bitmap material</a></li>
    <li class="level3 nav-leaf"><a href="../../materials/filltypes/">Fill Types</a></li>
    <li class="level3 nav-leaf"><a href="../../materials/imageeffects/">ImageEffects material</a></li>
    <li class="level2 nav-node"><a href="../../physics/">Physics</a></li>
    <li class="level3 nav-leaf"><a href="../../physics/basics/">Basic Physics Example</a></li>
    <li class="level2 nav-node"><a href="../">Primitives</a></li>
    <li class="level3 nav-leaf"><a href="../blank/">Blank Entity</a></li>
    <li class="level3 nav-leaf"><a href="../clip/">Clip</a></li>
    <li class="level3 nav-leaf"><a href="../graphic/">Graphic</a></li>
    <li class="level3 nav-leaf"><a href="../group/">Group</a></li>
    <li class="level3 nav-node"><a href="../shapes/">Shapes</a></li>
    <li class="level4 nav-leaf"><a href="../shapes/box/">Shape.Box</a></li>
    <li class="level4 nav-leaf"><a href="../shapes/circle/">Shape.Circle</a></li>
    <li class="level4 nav-leaf"><a href="../shapes/line/">Shape.Line</a></li>
    <li class="level4 nav-leaf"><a href="../shapes/polygon/">Shape.Polygon</a></li>
    <li class="level3 active nav-leaf"><a href="#">Sprite</a></li>
    <li class="level3 nav-leaf"><a href="../text/">Text</a></li>
    <li class="level2 nav-node"><a href="../../scenes/">Scenes</a></li>
    <li class="level3 nav-leaf"><a href="../../scenes/minimal/">Minimal scene example</a></li>
    <li class="level2 nav-node"><a href="../../shaders/">Shaders</a></li>
    <li class="level3 nav-leaf"><a href="../../shaders/basic/">A basic custom shader</a></li>
    <li class="level2 nav-node"><a href="../../time/">Time</a></li>
    <li class="level3 nav-leaf"><a href="../../time/signals/">Signals &amp; Signal Functions</a></li>
    <li class="level3 nav-leaf"><a href="../../time/time-varying-values/">Time Varying Values</a></li>
    <li class="level2 nav-node"><a href="../../ui/">Ui</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/button/">UI Components: Button</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/component-group/">UI Components: Component Group</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/component-list/">UI Components: Component List</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/custom/">UI Components: Custom Components</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/hitarea/">UI Components: HitArea</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/input/">UI Components: Input</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/label/">UI Components: Label</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/maskedpane/">UI Components: Masked Pane</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/scrollpane/">UI Components: Scroll Pane</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/switch/">UI Components: Switch</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/textarea/">UI Components: TextArea</a></li>
    <li class="level3 nav-leaf"><a href="../../ui/window/">UI Components: Windows</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">Sprite</a></p>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="#example-links">Example Links</a></li>
    <li class="level1 nav-leaf"><a href="#how-to-use-a-sprite">How to use a Sprite</a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="sprite" class="title">Sprite</h1>
        <p>Sprites are an animation primitive for playing back frames of animation from a sprite sheet. Unlike clips, they are stateful and requires a bit more set up. The trade off is that they&#39;re slightly more powerful and flexible.</p>
        <p>In general, you are recommended to use Clips over Sprites.</p>
        
        <h2 id="example-links" class="section"><a class="anchor-link left" href="#example-links"><i class="icofont-laika link">&#xef71;</i></a>Example Links</h2>
        <ul>
          <li><a href="https://github.com/PurpleKingdomGames/indigo-docs/blob/main/features/primitives/sprite">View example code</a></li>
        </ul>
        <ul>
          <li><a href="https://purplekingdomgames.github.io/indigo-docs//live_demos/features/primitives/sprite/">Live demo</a></li>
        </ul>
        
        <h2 id="how-to-use-a-sprite" class="section"><a class="anchor-link left" href="#how-to-use-a-sprite"><i class="icofont-laika link">&#xef71;</i></a>How to use a Sprite</h2>
        <p>Unlike Clips, which can be used directly in the SceneUpdateFragment, Sprites require a little
        more wiring a set up. This is because they are stateful and the state needs to be stored and
        referenced.</p>
        <p>This first thing we need is a definition of the animation. That is, data that tells Indigo
        where each frame lives spactially on the sprite sheet / texture.</p>
        <p>The animation data can be made manually, as in this example, but Indigo also supports building
        the data automatically based on data from Aseprite (see other examples).</p>
        <p>Along with the frame information, the animation also needs a key so that we can look it up.</p>
        <p>The example below represents a single animation, but you can add many different animations
        cycles and switch to them as and when required. For example, one Animation instance could hold
        all the cycles for a character to allow them to be idle, jump, walk, and crawl.</p>
        <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">flagAnimationKey</span><span>: </span><span class="type-name">AnimationKey</span><span> = </span><span class="type-name">AnimationKey</span><span>(</span><span class="string-literal">&quot;flag-animation&quot;</span><span>)

</span><span class="keyword">val</span><span> </span><span class="identifier">flagAnimation</span><span>: </span><span class="type-name">Animation</span><span> =
  </span><span class="keyword">val</span><span> </span><span class="identifier">frameDuration</span><span> = </span><span class="type-name">Millis</span><span>(</span><span class="number-literal">100</span><span>)
  </span><span class="keyword">val</span><span> </span><span class="identifier">frameSize</span><span>     = </span><span class="type-name">Rectangle</span><span>(</span><span class="number-literal">64</span><span>, </span><span class="number-literal">128</span><span>)

  </span><span class="type-name">Animation</span><span>(
    </span><span class="identifier">flagAnimationKey</span><span>,
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">0</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">1</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">2</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">3</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">4</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">5</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">6</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">7</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>),
    </span><span class="type-name">Frame</span><span>(</span><span class="identifier">frameSize</span><span>.</span><span class="identifier">moveTo</span><span>(</span><span class="number-literal">64</span><span> * </span><span class="number-literal">8</span><span>, </span><span class="number-literal">0</span><span>), </span><span class="identifier">frameDuration</span><span>)
  )</span></code></pre>
        <p>In order to use the animation, we must register them either at boot time, or if the assets are
        dynamically loaded then on the start up object during the setup function.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">boot</span><span>(</span><span class="identifier">flags</span><span>: </span><span class="type-name">Map</span><span>[</span><span class="type-name">String</span><span>, </span><span class="type-name">String</span><span>]): </span><span class="type-name">Outcome</span><span>[</span><span class="type-name">BootResult</span><span>[</span><span class="type-name">Unit</span><span>, </span><span class="type-name">Unit</span><span>]] =
  </span><span class="type-name">Outcome</span><span> {
    </span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
      </span><span class="type-name">Config</span><span>.</span><span class="identifier">config</span><span>
        .</span><span class="identifier">withMagnification</span><span>(</span><span class="number-literal">2</span><span>)
        .</span><span class="identifier">noResize</span><span>

    </span><span class="type-name">BootResult</span><span>
      .</span><span class="identifier">noData</span><span>(</span><span class="identifier">config</span><span>)
      .</span><span class="identifier">withAssets</span><span>(</span><span class="type-name">Assets</span><span>.</span><span class="identifier">assets</span><span>.</span><span class="identifier">assetSet</span><span>)
      .</span><span class="identifier">withAnimations</span><span>(</span><span class="identifier">flagAnimation</span><span>)
  }</span></code></pre>
        <p>The AnimationKey is needed to look up the Animation data, but we also need a way to look up
        the state for this particular instance. The animation state holds details such as which frame
        of the animation this sprite is currently on. This is done with a BindingKey.</p>
        <blockquote>Important! You can have many sprites share the same binding key, and that means, they all
        share the same state, and all play the same animation at the same time. Update one and you
        update all.</blockquote>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">mySprite</span><span> = </span><span class="type-name">BindingKey</span><span>(</span><span class="string-literal">&quot;my-flag-sprite&quot;</span><span>)</span></code></pre>
        <p>Finally, we can use our sprite, and tell it to play the animation or jump to a particular
        frame and so on.</p>
        <p>Note that calling the animation control functions, <code>play</code> for example, is declarative and
        tells Indigo that this animation should be played. It does not perform a side effect and
        change any state directly.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">present</span><span>(
    </span><span class="identifier">context</span><span>: </span><span class="type-name">Context</span><span>[</span><span class="type-name">Unit</span><span>],
    </span><span class="identifier">model</span><span>: </span><span class="type-name">Unit</span><span>,
    </span><span class="identifier">viewModel</span><span>: </span><span class="type-name">Unit</span><span>
): </span><span class="type-name">Outcome</span><span>[</span><span class="type-name">SceneUpdateFragment</span><span>] =
  </span><span class="keyword">val</span><span> </span><span class="identifier">sprite</span><span> =
    </span><span class="type-name">Sprite</span><span>(</span><span class="identifier">mySprite</span><span>, </span><span class="number-literal">0</span><span>, </span><span class="number-literal">0</span><span>, </span><span class="identifier">flagAnimationKey</span><span>, </span><span class="type-name">Assets</span><span>.</span><span class="identifier">assets</span><span>.</span><span class="type-name">FlagMaterial</span><span>).</span><span class="identifier">play</span><span>()

  </span><span class="type-name">Outcome</span><span>(</span><span class="type-name">SceneUpdateFragment</span><span>(</span><span class="identifier">sprite</span><span>))</span></code></pre>

        
<hr class="footer-rule"/>
<footer>
  Site generated by <a href="https://typelevel.org/Laika/">Laika</a> with the Helium theme.
</footer>


      </main>

    </div>

  </body>

</html>